{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Desktop\\\\React ZendVN\\\\c02\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport Title from './components/Title';\nimport Control from './components/Control';\nimport Form from './components/Form';\nimport List from './components/List';\nimport { filter, includes, orderBy as funcOrderBy, remove, reject } from 'lodash';\n// import task from './mocks/Task';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  v4: uuidv4\n} = require('uuid');\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      items: [],\n      isShowForm: false,\n      strSearch: '',\n      orderBy: 'name',\n      orderDir: 'desc',\n      itemSelected: null\n    };\n    this.handleToogleForm = this.handleToogleForm.bind(this);\n    this.closeForm = this.closeForm.bind(this);\n    this.handleSearch = this.handleSearch.bind(this);\n    this.handleSort = this.handleSort.bind(this);\n    this.handeDelete = this.handeDelete.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleEdit = this.handleEdit.bind(this);\n  }\n  componentWillMount() {\n    let items = JSON.parse(localStorage.getItem('task'));\n    this.setState({\n      items: items\n    });\n  }\n  handleSubmit(item) {\n    let {\n      items\n    } = this.state;\n    let id = null;\n    console.log(this.state);\n    if (item.id !== '') {\n      items = reject(items, {\n        id: item.id\n      });\n      id = item.id;\n      // items.forEach((elm, key) => {\n      //     if (elm.id === item.id) {\n      //         items[key].name = item.name;\n      //         items[key].level = +item.level;\n      //     }\n      // })\n    } else {\n      id = uuidv4();\n    }\n    items.push({\n      name: item.name,\n      level: +item.level\n    });\n    this.setState({\n      items: items,\n      isShowForm: false\n    });\n    localStorage.setItem(\"task\", JSON.stringify(items));\n  }\n  handleEdit(item) {\n    this.setState({\n      itemSelected: item,\n      isShowForm: true\n    });\n  }\n  handeDelete(id) {\n    let items = this.state.items;\n    remove(items, item => {\n      return item.id === id;\n    });\n    this.setState({\n      items: items,\n      isShowForm: false\n    });\n    localStorage.setItem(\"task\", JSON.stringify(items));\n  }\n  handleSort(orderBy, orderDir) {\n    this.setState({\n      orderBy: orderBy,\n      orderDir: orderDir\n    });\n  }\n  handleToogleForm() {\n    this.setState({\n      isShowForm: !this.state.isShowForm,\n      itemSelected: null\n    });\n  }\n  handleSearch(value) {\n    this.setState({\n      strSearch: value\n    });\n  }\n  closeForm() {\n    this.setState({\n      isShowForm: false\n    });\n  }\n  render() {\n    let elmForm = null;\n    let itemsOrigin = [...this.state.items];\n    let items = [];\n    let {\n      orderBy,\n      orderDir,\n      isShowForm,\n      strSearch,\n      itemSelected\n    } = this.state;\n    console.log(orderBy + \"-\" + orderDir);\n    items = filter(itemsOrigin, item => {\n      return includes(item.name.toLowerCase(), strSearch.toLowerCase());\n    });\n    items = funcOrderBy(items, [orderBy], [orderDir]);\n    // if (search.length > 0) {\n    //     itemsOrigin.forEach((item) => {\n    //         if (item.name.toLowerCase().indexOf(search) !== -1) {\n    //             items.push(item);\n    //         }\n    //     });\n    // } else {\n    //     items = itemsOrigin;\n    // }\n\n    if (isShowForm) {\n      elmForm = /*#__PURE__*/_jsxDEV(Form, {\n        itemSelected: itemSelected,\n        onClickSubmit: this.handleSubmit,\n        onClickCancel: this.closeForm\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 23\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Title, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Control, {\n        orderBy: orderBy,\n        orderDir: orderDir,\n        onClickSort: this.handleSort,\n        onClickSearchGo: this.handleSearch,\n        onClickAdd: this.handleToogleForm,\n        isShowForm: isShowForm\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }, this), elmForm, /*#__PURE__*/_jsxDEV(List, {\n        onClickEdit: this.handleEdit,\n        onClickDelete: this.handeDelete,\n        items: items\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default App;","map":{"version":3,"names":["React","Component","Title","Control","Form","List","filter","includes","orderBy","funcOrderBy","remove","reject","jsxDEV","_jsxDEV","v4","uuidv4","require","App","constructor","props","state","items","isShowForm","strSearch","orderDir","itemSelected","handleToogleForm","bind","closeForm","handleSearch","handleSort","handeDelete","handleSubmit","handleEdit","componentWillMount","JSON","parse","localStorage","getItem","setState","item","id","console","log","push","name","level","setItem","stringify","value","render","elmForm","itemsOrigin","toLowerCase","onClickSubmit","onClickCancel","fileName","_jsxFileName","lineNumber","columnNumber","children","onClickSort","onClickSearchGo","onClickAdd","onClickEdit","onClickDelete"],"sources":["C:/Users/Admin/Desktop/React ZendVN/c02/src/App.js"],"sourcesContent":["import React, { Component } from 'react';\nimport Title from './components/Title';\nimport Control from './components/Control';\nimport Form from './components/Form';\nimport List from './components/List';\nimport {filter, includes, orderBy as funcOrderBy, remove, reject} from 'lodash';\n// import task from './mocks/Task';\nconst { v4: uuidv4 } = require('uuid');\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            items: [],\n            isShowForm: false,\n            strSearch : '',\n            orderBy : 'name',\n            orderDir : 'desc',\n            itemSelected: null,\n        };\n\n        this.handleToogleForm = this.handleToogleForm.bind(this);\n        this.closeForm = this.closeForm.bind(this);\n        this.handleSearch = this.handleSearch.bind(this);\n        this.handleSort = this.handleSort.bind(this);\n        this.handeDelete = this.handeDelete.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleEdit = this.handleEdit.bind(this);\n    }\n\n    componentWillMount() {\n        let items =     JSON.parse(localStorage.getItem('task'));\n        this.setState({\n            items : items,\n        })\n    }\n\n    handleSubmit(item) {\n        let {items} = this.state;\n        let id = null;\n        console.log(this.state);\n\n        if (item.id !== '') {\n            items = reject(items, {id: item.id});\n            id = item.id;\n            // items.forEach((elm, key) => {\n            //     if (elm.id === item.id) {\n            //         items[key].name = item.name;\n            //         items[key].level = +item.level;\n            //     }\n            // })\n        } else {\n            id = uuidv4();\n        }\n        items.push({\n            name: item.name,\n            level: +item.level\n        });\n\n        this.setState({\n            items: items,\n            isShowForm: false\n        });\n\n        localStorage.setItem(\"task\", JSON.stringify(items));\n    }\n\n    handleEdit(item) {\n        this.setState({\n            itemSelected: item,\n            isShowForm: true\n        });\n    }\n    handeDelete(id) {\n        let items = this.state.items;\n        remove(items, (item) => {\n            return item.id === id;\n        });\n\n        this.setState({\n            items: items,\n            isShowForm: false\n        });\n\n        localStorage.setItem(\"task\", JSON.stringify(items));\n    }\n\n    handleSort(orderBy, orderDir) {\n        this.setState({\n            orderBy: orderBy,\n            orderDir: orderDir\n        });\n    }\n\n    handleToogleForm() {\n        this.setState({\n            isShowForm: !this.state.isShowForm,\n            itemSelected: null\n        });\n    }\n\n    handleSearch(value) {\n        this.setState({\n            strSearch: value\n        });\n    }\n\n    closeForm() {\n        this.setState({\n            isShowForm: false\n        });\n    }\n\n    render() {\n        let elmForm = null;\n        let itemsOrigin = [...this.state.items];\n        let items = [];\n        let {orderBy, orderDir, isShowForm, strSearch, itemSelected} = this.state;\n\n        console.log (orderBy + \"-\" + orderDir);\n\n        items = filter(itemsOrigin, (item) => {\n            return includes(item.name.toLowerCase(), strSearch.toLowerCase());\n        });\n\n        items = funcOrderBy(items, [orderBy], [orderDir]);\n        // if (search.length > 0) {\n        //     itemsOrigin.forEach((item) => {\n        //         if (item.name.toLowerCase().indexOf(search) !== -1) {\n        //             items.push(item);\n        //         }\n        //     });\n        // } else {\n        //     items = itemsOrigin;\n        // }\n\n        if (isShowForm) {\n            elmForm = <Form itemSelected={itemSelected} onClickSubmit={this.handleSubmit} onClickCancel={this.closeForm}/>;\n        }\n        return (\n            <div>\n                <Title/>\n                {/* TITLE : END */}\n                {/* CONTROL (SEARCH + SORT + ADD) : START */}\n                <Control orderBy={orderBy} orderDir={orderDir} onClickSort={this.handleSort} onClickSearchGo={this.handleSearch} onClickAdd = {this.handleToogleForm} isShowForm={isShowForm}/>\n                {/* CONTROL (SEARCH + SORT + ADD) : END */}\n                {/* FORM : START */}\n                {elmForm}\n                {/* FORM : END */}\n                {/* LIST : START */}\n                <List onClickEdit={this.handleEdit} onClickDelete={this.handeDelete} items ={items}/>\n\t\t\t</div>\n        );\n    }\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}